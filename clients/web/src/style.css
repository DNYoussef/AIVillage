@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Inter font import */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* Base styles with accessibility focus */
@layer base {
  html {
    font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
    line-height: 1.6;
  }

  body {
    @apply bg-gray-50 text-gray-900;
    font-size: 16px; /* Ensure minimum font size for accessibility */
  }

  /* Screen reader only utility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: 0.5rem 1rem;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* High contrast focus indicators */
  *:focus {
    outline: 2px solid #2563eb;
    outline-offset: 2px;
  }

  *:focus:not(:focus-visible) {
    outline: none;
  }

  *:focus-visible {
    outline: 2px solid #2563eb;
    outline-offset: 2px;
  }
}

/* Accessibility enhancements */
@layer components {
  /* High contrast mode support */
  .high-contrast {
    filter: contrast(150%);
  }

  .high-contrast .text-gray-500 {
    @apply text-gray-800;
  }

  .high-contrast .text-gray-400 {
    @apply text-gray-700;
  }

  .high-contrast .bg-gray-50 {
    @apply bg-white;
  }

  .high-contrast .bg-gray-100 {
    @apply bg-gray-200 border border-gray-400;
  }

  /* Large text mode */
  .large-text {
    font-size: 1.125rem;
  }

  .large-text h1,
  .large-text h2,
  .large-text h3,
  .large-text h4,
  .large-text h5,
  .large-text h6 {
    font-size: 1.25em;
  }

  .large-text .text-sm {
    font-size: 1rem;
  }

  .large-text .text-xs {
    font-size: 0.875rem;
  }

  /* Focus indicator variants */
  .focus-high-contrast *:focus,
  .focus-high-contrast *:focus-visible {
    outline: 3px solid #000 !important;
    outline-offset: 2px !important;
  }

  .focus-large *:focus,
  .focus-large *:focus-visible {
    outline: 4px solid #2563eb !important;
    outline-offset: 4px !important;
  }

  /* Loading states for better UX */
  .loading {
    @apply animate-pulse;
  }

  .loading-spinner {
    animation: spin 1s linear infinite;
  }

  /* Error states */
  .error-shake {
    animation: shake 0.5s ease-in-out;
  }

  /* Button improvements */
  .btn {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-white text-gray-700 border-gray-300 hover:bg-gray-50 focus:ring-primary-500;
  }

  .btn-danger {
    @apply btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500;
  }

  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Form improvements */
  .form-input {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500;
  }

  .form-select {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500;
  }

  .form-textarea {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500;
  }

  /* Alert components */
  .alert {
    @apply p-4 rounded-md;
  }

  .alert-info {
    @apply alert bg-blue-50 text-blue-700 border border-blue-200;
  }

  .alert-success {
    @apply alert bg-green-50 text-green-700 border border-green-200;
  }

  .alert-warning {
    @apply alert bg-yellow-50 text-yellow-700 border border-yellow-200;
  }

  .alert-error {
    @apply alert bg-red-50 text-red-700 border border-red-200;
  }

  /* Card component */
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
  }

  .card-header {
    @apply px-6 py-4 border-b border-gray-200;
  }

  .card-body {
    @apply p-6;
  }

  .card-footer {
    @apply px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg;
  }
}

/* Animation utilities */
@layer utilities {
  /* Respect reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    .reduce-motion *,
    .reduce-motion *::before,
    .reduce-motion *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Custom animations */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .animate-fade-in {
    animation: fadeIn 0.5s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  /* Skip link styling */
  .skip-link {
    @apply absolute left-4 top-4 z-50 bg-primary-600 text-white px-4 py-2 rounded-md transform -translate-y-16 focus:translate-y-0 transition-transform duration-200;
  }

  /* Loading states */
  .loading-dots::after {
    content: '';
    animation: dots 1.5s steps(5, end) infinite;
  }

  @keyframes dots {
    0%, 20% {
      color: rgba(0,0,0,0);
      text-shadow: 0.25em 0 0 rgba(0,0,0,0), 0.5em 0 0 rgba(0,0,0,0);
    }
    40% {
      color: currentColor;
      text-shadow: 0.25em 0 0 rgba(0,0,0,0), 0.5em 0 0 rgba(0,0,0,0);
    }
    60% {
      text-shadow: 0.25em 0 0 currentColor, 0.5em 0 0 rgba(0,0,0,0);
    }
    80%, 100% {
      text-shadow: 0.25em 0 0 currentColor, 0.5em 0 0 currentColor;
    }
  }
}

/* Dark mode support (for future implementation) */
@media (prefers-color-scheme: dark) {
  .dark {
    @apply bg-gray-900 text-gray-100;
  }

  .dark .bg-white {
    @apply bg-gray-800;
  }

  .dark .bg-gray-50 {
    @apply bg-gray-900;
  }

  .dark .bg-gray-100 {
    @apply bg-gray-800;
  }

  .dark .text-gray-900 {
    @apply text-gray-100;
  }

  .dark .text-gray-700 {
    @apply text-gray-300;
  }

  .dark .text-gray-500 {
    @apply text-gray-400;
  }

  .dark .border-gray-200 {
    @apply border-gray-700;
  }

  .dark .border-gray-300 {
    @apply border-gray-600;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
    color: black;
    background: white;
  }

  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }

  img, figure, table {
    page-break-inside: avoid;
  }
}
