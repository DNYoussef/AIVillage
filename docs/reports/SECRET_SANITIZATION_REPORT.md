# Secret Sanitization Validation Report

```
================================================================================
    SECRET SANITIZATION VALIDATION REPORT
================================================================================

Overall Status: FAIL

SUMMARY:
  Files Processed: 7/7
  Files with Issues: 7
  Total Issues: 59
  Validated Test Secrets: 115

VALIDATION CRITERIA:
  [OK] Test secrets must have '# pragma: allowlist secret' comments
  [OK] Test secrets should use 'test_' prefixes and obvious fake values
  [OK] No production-like secret patterns should remain
  [OK] API keys should be clearly marked as test/mock values
  [OK] AuthConfig and structural patterns are acceptable with pragma

FILE: tests\security\test_auth_system.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (15)
    Line 84: info_security_issue
      no_symbols = "TestNoSymbols123"...
    Line 266: info_security_issue
      username="nonexistent", password="test_auth_password_123!"  # nosec B106 - test password,  # pragma:...
    Line 285: info_security_issue
      username="locktest", password="WrongPassword"  # nosec B106 - test password, ip_address="127.0.0.1" ...
    Line 299: info_security_issue
      username="sessionuser",...
    Line 306: info_security_issue
      username="sessionuser", password="test_auth_password_123!"  # nosec B106 - test password,  # pragma:...
    Line 364: error_security_issue
      username="resetuser", password="test_reset_password_123!" # nosec B106 - test password...
    Line 364: warning_security_issue
      username="resetuser", password="test_reset_password_123!" # nosec B106 - test password...
    Line 396: error_security_issue
      username="mfadisable", email="mfadisable@example.com", password="test_auth_password_123!"...
    Line 396: warning_security_issue
      username="mfadisable", email="mfadisable@example.com", password="test_auth_password_123!"...
    Line 396: info_security_issue
      username="mfadisable", email="mfadisable@example.com", password="test_auth_password_123!"...
    Line 498: error_security_issue
      username="nonexistent_user_12345", password="any_password"...
    Line 504: error_security_issue
      username="realuser", email="real@example.com", password="test_real_password_123!" # nosec B106 - tes...
    Line 504: warning_security_issue
      username="realuser", email="real@example.com", password="test_real_password_123!" # nosec B106 - tes...
    Line 509: error_security_issue
      username="realuser", password="wrong_password"...
    Line 725: ambiguous_secret
      "password_hash": "test_hash_value",  # pragma: allowlist secret...
  [OK] Validated Secrets: 89

FILE: tests\integration\test_end_to_end_system.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (28)
    Line 67: info_security_issue
      "observability": ObservabilitySystem("aivillage_e2e", self.temp_dbs[1]),...
    Line 81: info_security_issue
      self.components["observability"].start()...
    Line 87: info_security_issue
      if "observability" in self.components:...
    Line 88: info_security_issue
      self.components["observability"].stop()...
    Line 102: info_security_issue
      observability = self.components["observability"]...
    Line 158: info_security_issue
      observability = self.components["observability"]...
    Line 184: info_security_issue
      "capabilities": [...
    Line 195: info_security_issue
      "capabilities": [...
    Line 206: info_security_issue
      "capabilities": [...
    Line 217: info_security_issue
      "capabilities": [...
    Line 231: info_security_issue
      for cap in agent_config["capabilities"]...
    Line 246: info_security_issue
      "security_level": "confidential",...
    Line 292: info_security_issue
      observability = self.components["observability"]...
    Line 308: info_security_issue
      requirements={"security_level": "confidential"},...
    Line 317: info_security_issue
      "hyperparams": {"n_estimators": 100, "max_depth": 6},...
    Line 320: info_security_issue
      requirements={"gpu_memory": 8, "security_level": "confidential"},...
    Line 333: info_security_issue
      requirements={"security_level": "confidential"},...
    Line 396: info_security_issue
      return {"tasks": submitted_tasks, "models": models, "comparison": comparison}...
    Line 403: info_security_issue
      observability = self.components["observability"]...
    Line 497: info_security_issue
      observability = self.components["observability"]...
    Line 567: info_security_issue
      observability = self.components["observability"]...
    Line 687: info_security_issue
      self.test_results["resilience"] = resilience_result...
    Line 691: info_security_issue
      self.test_results["performance"] = performance_result...
    Line 726: info_security_issue
      "System Resilience": self.test_results.get("resilience", {}),...
    Line 727: info_security_issue
      "Performance": self.test_results.get("performance", {}),...
    Line 756: info_security_issue
      if "performance" in self.test_results:...
    Line 757: info_security_issue
      perf = self.test_results["performance"]...
    Line 765: info_security_issue
      print("\nSYSTEM STATUS: " + ("OPERATIONAL" if passed_tests == total_tests else "DEGRADED"))...
  [OK] Validated Secrets: 8

FILE: tests\integration\test_integration_simple.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (2)
    Line 168: info_security_issue
      sender_id="coordinator",...
    Line 414: info_security_issue
      sender_id="coordinator",...
  [OK] Validated Secrets: 7

FILE: tests\fixtures\service_fixtures.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (4)
    Line 83: info_security_issue
      secret_key="test-secret",  # pragma: allowlist secret...
    Line 105: info_security_issue
      "dependencies": {...
    Line 294: info_security_issue
      "transformers": Mock(),...
    Line 309: info_security_issue
      "ENVIRONMENT": "testing",...
  [OK] Validated Secrets: 2

FILE: tests\conftest_fixtures.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (4)
    Line 83: info_security_issue
      secret_key="test-secret",  # pragma: allowlist secret...
    Line 105: info_security_issue
      "dependencies": {...
    Line 294: info_security_issue
      "transformers": Mock(),...
    Line 309: info_security_issue
      "ENVIRONMENT": "testing",...
  [OK] Validated Secrets: 2

FILE: tests\test_federation_integration.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (3)
    Line 20: info_security_issue
      sys.path.insert(0, os.path.join(os.path.dirname(__file__), "..", "experimental", "agents", "agents")...
    Line 278: info_security_issue
      private_key="test_mock_private_key",  # pragma: allowlist secret...
    Line 424: info_security_issue
      assert tunnel_info["destination"] == "target_node"...
  [OK] Validated Secrets: 1

FILE: tests\benchmarks\test_performance_benchmarks.py
------------------------------------------------------------
  [FAIL] ISSUES FOUND (3)
    Line 189: info_security_issue
      "throughput": m.throughput_per_second,...
    Line 334: info_security_issue
      topic="algorithms",...
    Line 654: info_security_issue
      print(f"\n{'By Operation:':<20} {'Avg Duration':<12} {'Throughput':<12} {'Success Rate'}")...
  [OK] Validated Secrets: 6

RECOMMENDATIONS:
  1. Add '# pragma: allowlist secret' comments to all test credentials
  2. Replace production-like secrets with obvious test values
  3. Use 'test_' prefixes for all test passwords and keys
  4. Ensure API keys are clearly marked as 'test_mock_api_key'
  5. Verify no real credentials are in test files
  6. AuthConfig constructors should have pragma comments on closing parenthesis

VALIDATION COMPLETE
================================================================================
```
